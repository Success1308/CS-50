{% extends "layout.html" %}
{% block title %}
Register
{% endblock %}
{% block main %}
<form action="/register" method="post" class="needs-validation" novalidate>
  <div class="mb-3 row">
    <label for="username" class="col-sm-2 col-form-label">Username</label>
    <div class="col-sm-10">
      <input autocomplete="off" autofocus class="form-control" id="username" name="username" placeholder="Username" type="text" required>
      <div class="invalid-feedback">
        Please provide a username.
      </div>
    </div>
  </div>
  <div class="mb-3 row">
    <label for="password" class="col-sm-2 col-form-label">Password</label>
    <div class="col-sm-10">
      <input class="form-control" id="password" name="password" placeholder="Password" type="password" required>
      <div class="invalid-feedback">
        Please provide a password.
      </div>
    </div>
  </div>
  <div class="mb-3 row">
    <label for="confirmation" class="col-sm-2 col-form-label">Confirm Password</label>
    <div class="col-sm-10">
      <input class="form-control" id="confirmation" name="confirmation" placeholder="Confirm your password" type="password" required>
      <div class="invalid-feedback">
        Please confirm your password.
      </div>
    </div>
  </div>
  <button class="btn btn-primary" type="submit">Register</button>
</form>

<script>
// Add form validation using Bootstrap's custom validation
(function() {
  'use strict';
  window.addEventListener('load', function() {
    var forms = document.getElementsByClassName('needs-validation');
    var validation = Array.prototype.filter.call(forms, function(form) {
      form.addEventListener('submit', function(event) {
        if (form.checkValidity() === false) {
          event.preventDefault();
          event.stopPropagation();
        }
        form.classList.add('was-validated');
      }, false);
    });
  }, false);
})();
</script>
{% endblock %}
